{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\DELL\\\\OneDrive\\\\Bureau\\\\DossiersImportants\\\\ChatApp\\\\public\\\\src\\\\components\\\\ChatContainer.js\",\n    _s = $RefreshSig$();\n\nimport Message from '../components/Message';\nimport React, { useState, useEffect } from 'react';\nimport { v4 as uuidv4 } from \"uuid\";\nimport ChatInput from '../components/ChatInput';\nimport axios from 'axios';\nimport { sendMessageRoute, getAllMessagesRoute } from \"../utils/APIRoutes\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function ChatContainer(_ref) {\n  _s();\n\n  let {\n    currentChat,\n    currentUser\n  } = _ref;\n  const [messages, setMessages] = useState([]);\n  useEffect(() => {\n    async function Data() {\n      const response = await axios.post(getAllMessagesRoute, {\n        from: currentUser._id,\n        to: currentChat._id\n      });\n      setMessages(response.data);\n    }\n\n    Data();\n  }, [currentChat]);\n\n  const handleSendMsg = async msg => {\n    // alert(msg);\n    await axios.post(sendMessageRoute, {\n      from: currentUser._id,\n      to: currentChat._id,\n      message: msg\n    }); // const msgs = [...messages];\n    // msgs.push({ fromSelf: true, message: msg });\n    // setMessages(msgs);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"overflow-y-scroll pr-2.5 scrollbar-none\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: \"assets/profil/9.jpeg\",\n          alt: \"Logo\",\n          className: \"rounded-full h-8 w-8 object-cover mr-5\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"font-medium\",\n          children: [\" \", currentChat && currentChat.username, \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 5\n        }, this), \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 5\n      }, this), \" \", /*#__PURE__*/_jsxDEV(\"div\", {\n        className: own ? \"message own\" : \"message\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            className: \"rounded-full h-8 w-8 object-cover mr-5\",\n            src: \"https://images.pexels.com/photos/3686769/pexels-photo-3686769.jpeg?auto=compress&cs=tinysrgb&dpr=2&w=500\",\n            alt: \"\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 5\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"messageText\",\n            children: \" Lorem ipsum dolor sit amet consectetur adipisicing elit.Dolorum qui, minima suscipit saepe reiciendis beatae pariatur eos.Debitis ipsum officiis soluta minus.Animi fuga corporis repellendus eum!Voluptas, eius neque ? \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 5\n          }, this), \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 5\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-xs mt-2.5\",\n          children: \" 1 hour ago \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 11\n        }, this), \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 11\n      }, this), \" \", /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [\" \", messages.map(message => {\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [\" \", message.message, \" \"]\n          }, uuidv4(), true, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 18\n          }, this);\n        }), \" \", \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 11\n      }, this), \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 5\n    }, this), \"  \", /*#__PURE__*/_jsxDEV(ChatInput, {\n      handleSendMsg: handleSendMsg\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 12\n    }, this), \" \"]\n  }, void 0, true);\n}\n\n_s(ChatContainer, \"RyA59LRbn9goj/9N7rELX+NWNVI=\");\n\n_c = ChatContainer;\n\nvar _c;\n\n$RefreshReg$(_c, \"ChatContainer\");","map":{"version":3,"sources":["C:/Users/DELL/OneDrive/Bureau/DossiersImportants/ChatApp/public/src/components/ChatContainer.js"],"names":["Message","React","useState","useEffect","v4","uuidv4","ChatInput","axios","sendMessageRoute","getAllMessagesRoute","ChatContainer","currentChat","currentUser","messages","setMessages","Data","response","post","from","_id","to","data","handleSendMsg","msg","message","username","own","map"],"mappings":";;;AAAA,OAAOA,OAAP,MAAoB,uBAApB;AACA,OAAOC,KAAP,IACEC,QADF,EAEEC,SAFF,QAGO,OAHP;AAIA,SACEC,EAAE,IAAIC,MADR,QAEO,MAFP;AAGA,OAAOC,SAAP,MAAsB,yBAAtB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SACEC,gBADF,EAEEC,mBAFF,QAGO,oBAHP;;;AAKA,eAAe,SAASC,aAAT,OAGZ;AAAA;;AAAA,MAHmC;AACpCC,IAAAA,WADoC;AAEpCC,IAAAA;AAFoC,GAGnC;AACD,QAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BZ,QAAQ,CAAC,EAAD,CAAxC;AACAC,EAAAA,SAAS,CAAC,MAAM;AACd,mBAAeY,IAAf,GAAsB;AACpB,YAAMC,QAAQ,GAAG,MAAMT,KAAK,CAACU,IAAN,CAAWR,mBAAX,EAAgC;AACrDS,QAAAA,IAAI,EAAEN,WAAW,CAACO,GADmC;AAErDC,QAAAA,EAAE,EAAET,WAAW,CAACQ;AAFqC,OAAhC,CAAvB;AAIAL,MAAAA,WAAW,CAACE,QAAQ,CAACK,IAAV,CAAX;AACD;;AACDN,IAAAA,IAAI;AACL,GATQ,EASN,CAACJ,WAAD,CATM,CAAT;;AAUA,QAAMW,aAAa,GAAG,MAAOC,GAAP,IAAe;AACnC;AACA,UAAMhB,KAAK,CAACU,IAAN,CAAWT,gBAAX,EAA6B;AACjCU,MAAAA,IAAI,EAAEN,WAAW,CAACO,GADe;AAEjCC,MAAAA,EAAE,EAAET,WAAW,CAACQ,GAFiB;AAGjCK,MAAAA,OAAO,EAAED;AAHwB,KAA7B,CAAN,CAFmC,CAOnC;AACA;AACA;AACD,GAVD;;AAWA,sBAAS;AAAA,4BAEP;AACI,MAAA,SAAS,EAAG,yCADhB;AAAA,8BAEA;AACI,QAAA,SAAS,EAAG,MADhB;AAAA,gCAEA;AACI,UAAA,GAAG,EAAG,sBADV;AAEA,UAAA,GAAG,EAAG,MAFN;AAGA,UAAA,SAAS,EAAG;AAHZ;AAAA;AAAA;AAAA;AAAA,gBAFA,eAMA;AACK,UAAA,SAAS,EAAG,aADjB;AAAA,0BAEEZ,WAAW,IAAIA,WAAW,CAACc,QAF7B;AAAA;AAAA;AAAA;AAAA;AAAA,gBANA;AAAA;AAAA;AAAA;AAAA;AAAA,cAFA,oBAYM;AACF,QAAA,SAAS,EACXC,GAAG,GAAG,aAAH,GAAmB,SAFlB;AAAA,gCAIN;AACI,UAAA,SAAS,EAAG,MADhB;AAAA,kCAEA;AACI,YAAA,SAAS,EAAG,wCADhB;AAEA,YAAA,GAAG,EAAG,0GAFN;AAGA,YAAA,GAAG,EAAG;AAHN;AAAA;AAAA;AAAA;AAAA,kBAFA,eAOA;AACE,YAAA,SAAS,EAAG,aADd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAPA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAJM,oBAaA;AACF,UAAA,SAAS,EAAG,gBADV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAbA;AAAA;AAAA;AAAA;AAAA;AAAA,cAZN,oBA2BM;AAAA,wBAEJb,QAAQ,CAACc,GAAT,CAAcH,OAAD,IAAa;AACxB,8BAAS;AAAA,4BAILA,OAAO,CAACA,OAJH;AAAA,aAELnB,MAAM,EAFD;AAAA;AAAA;AAAA;AAAA,kBAAT;AAQD,SATD,CAFI;AAAA;AAAA;AAAA;AAAA;AAAA,cA3BN;AAAA;AAAA;AAAA;AAAA;AAAA,YAFO,qBAgDA,QACP,SADO;AACG,MAAA,aAAa,EACrBiB;AAFK;AAAA;AAAA;AAAA;AAAA,YAhDA;AAAA,kBAAT;AAuDD;;GAjFuBZ,a;;KAAAA,a","sourcesContent":["import Message from '../components/Message';\r\nimport React, {\r\n  useState,\r\n  useEffect\r\n} from 'react';\r\nimport {\r\n  v4 as uuidv4\r\n} from \"uuid\"\r\nimport ChatInput from '../components/ChatInput';\r\nimport axios from 'axios';\r\nimport {\r\n  sendMessageRoute,\r\n  getAllMessagesRoute\r\n} from \"../utils/APIRoutes\";\r\n\r\nexport default function ChatContainer({\r\n  currentChat,\r\n  currentUser\r\n}) {\r\n  const [messages, setMessages] = useState([]);\r\n  useEffect(() => {\r\n    async function Data() {\r\n      const response = await axios.post(getAllMessagesRoute, {\r\n        from: currentUser._id,\r\n        to: currentChat._id,\r\n      })\r\n      setMessages(response.data);\r\n    }\r\n    Data();\r\n  }, [currentChat]);\r\n  const handleSendMsg = async (msg) => {\r\n    // alert(msg);\r\n    await axios.post(sendMessageRoute, {\r\n      from: currentUser._id,\r\n      to: currentChat._id,\r\n      message: msg,\r\n    });\r\n    // const msgs = [...messages];\r\n    // msgs.push({ fromSelf: true, message: msg });\r\n    // setMessages(msgs);\r\n  }\r\n  return ( <\r\n    >\r\n    <\r\n    div className = \"overflow-y-scroll pr-2.5 scrollbar-none\" >\r\n    <\r\n    div className = 'flex' >\r\n    <\r\n    img src = \"assets/profil/9.jpeg\"\r\n    alt = \"Logo\"\r\n    className = \"rounded-full h-8 w-8 object-cover mr-5\" / >\r\n    <\r\n    span className = \"font-medium\" > {\r\n      currentChat && currentChat.username\r\n    } < /span> <\r\n    /div> <\r\n    div className = {\r\n      own ? \"message own\" : \"message\"\r\n    } >\r\n    <\r\n    div className = \"flex\" >\r\n    <\r\n    img className = \"rounded-full h-8 w-8 object-cover mr-5\"\r\n    src = \"https://images.pexels.com/photos/3686769/pexels-photo-3686769.jpeg?auto=compress&cs=tinysrgb&dpr=2&w=500\"\r\n    alt = \"\" /\r\n    >\r\n    <\r\n    p className = \"messageText\" > Lorem ipsum dolor sit amet consectetur adipisicing elit.Dolorum qui, minima suscipit saepe reiciendis beatae pariatur eos.Debitis ipsum officiis soluta minus.Animi fuga corporis repellendus eum!Voluptas, eius neque ? < /p> <\r\n    /div> <\r\n    div className = \"text-xs mt-2.5\" > 1 hour ago < /div> <\r\n    /div> <\r\n    div > {\r\n      messages.map((message) => {\r\n        return ( <\r\n          div key = {\r\n            uuidv4()\r\n          } > {\r\n            message.message\r\n          } <\r\n          /div>\r\n        )\r\n      })\r\n    } {\r\n      /* <Message/>\r\n                            <Message own={true}/>\r\n                            <Message/>\r\n                            <Message/> */\r\n    } <\r\n    /div> <\r\n    /div>  <\r\n    ChatInput handleSendMsg = {\r\n      handleSendMsg\r\n    }\r\n    /> <\r\n    />\r\n  )\r\n}"]},"metadata":{},"sourceType":"module"}